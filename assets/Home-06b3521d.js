import{_ as C,r as y,o as c,c as i,a as e,b as q,w as a,d as b,e as d,v as p,t as l,F as h,f as v,g as M}from"./index-7b333aaa.js";const w={name:"SupplyCounting",data(){return{product:{name:"",price:null,quantity:null},products:this.$util.storage("products")||[],expense:{name:"",price:null},expenses:this.$util.storage("expenses")||[]}},computed:{sum_price_products(){return this.products.reduce((s,n)=>s+n.price*n.quantity,0)},sum_price_expenses(){return this.expenses.reduce((s,n)=>s+n.price,0)}},methods:{saveData(){this.$util.storage("products",this.products),this.$util.storage("expenses",this.expenses)},addProduct(s){this.products.push(s),this.saveData(),this.product={name:"",price:null,quantity:null}},removeProduct(s){this.products.splice(s,1),this.saveData()},addExpense(s){this.expenses.push(s),this.saveData(),this.expense={name:"",price:null}},removeExpense(s){this.expenses.splice(s,1),this.saveData()},countPrice(){this.products.forEach((s,n)=>{const _=s.price*s.quantity*100/this.sum_price_products,o=this.sum_price_expenses/100*_;s.expense_for_product=o/s.quantity,n==this.products.length-1&&this.$refs.productsModal.openModal()})}}},S=e("h1",null,"Ta'minot tan narxi hisoblash",-1),$={class:"row gap-3"},D={class:"col-md-12"},P={class:"row"},V={class:"col-5"},E=["currency"],U={class:"col-2"},B=e("div",{class:"col-2"},[e("button",{class:"w-100"},"qo'shish")],-1),N={class:"col-12"},T={class:"row"},H={class:"col-md-4"},F={class:"col-12"},J={class:"table-responsive",style:{"max-height":"70vh"}},z=e("thead",null,[e("tr",null,[e("th",null,"Mahsulot"),e("th",null,"Narx"),e("th",null,"Miqdor"),e("th",null,"Summa"),e("th")])],-1),L=["onClick"],j={class:"row gap-3"},A={class:"col-md-12"},G={class:"row"},I={class:"col-5"},K=["currency"],O=e("div",{class:"col-2"},[e("button",{class:"w-100"},"qo'shish")],-1),Q={class:"col-12"},R={class:"row"},W={class:"col-md-4"},X={class:"col-12"},Y={class:"table-responsive",style:{"max-height":"70vh"}},Z=e("thead",null,[e("tr",null,[e("th",null,"Chiqim"),e("th",null,"Summa"),e("th")])],-1),ee=["onClick"],te=e("h4",null,"Mahsulotlarga qo'yilgan chiqim narxi",-1),se=e("thead",null,[e("tr",null,[e("th",null,"Mahsulot"),e("th",null,"Narx"),e("th",null,"Chiqim uchun ustama"),e("th",null,"Miqdor"),e("th",null,"Summa"),e("th")])],-1),ne=["onClick"];function oe(s,n,x,_,o,r){const m=y("Tab"),k=y("Modal");return c(),i(h,null,[S,e("button",{onClick:n[0]||(n[0]=t=>r.countPrice())},"Hisoblash"),q(m,{tabs:["Mahsulotlar","Chiqimlar"]},{1:a(()=>[e("div",$,[e("div",D,[e("form",{onSubmit:n[4]||(n[4]=b(t=>r.addProduct(o.product),["prevent"]))},[e("div",P,[e("div",V,[d(e("input",{type:"text",class:"form-control",placeholder:"mahsulot",required:"","onUpdate:modelValue":n[1]||(n[1]=t=>o.product.name=t)},null,512),[[p,o.product.name]])]),e("div",{class:"col-3",currency:s.$util.currency(o.product.price)},[d(e("input",{type:"number",min:"0",step:"any",class:"form-control",placeholder:"narx",required:"","onUpdate:modelValue":n[2]||(n[2]=t=>o.product.price=t)},null,512),[[p,o.product.price]])],8,E),e("div",U,[d(e("input",{type:"number",min:"0",step:"any",class:"form-control",placeholder:"miqdor",required:"","onUpdate:modelValue":n[3]||(n[3]=t=>o.product.quantity=t)},null,512),[[p,o.product.quantity]])]),B])],32)]),e("div",N,[e("div",T,[e("div",H,[e("h4",null,l(`Jami summa: ${s.$util.currency(r.sum_price_products)} so'm`),1)])])]),e("div",F,[e("div",J,[e("table",null,[z,e("tbody",null,[(c(!0),i(h,null,v(o.products,(t,u)=>(c(),i("tr",{key:u},[e("td",null,l(t.name),1),e("td",null,l(s.$util.currency(t.price)),1),e("td",null,l(t.quantity),1),e("td",null,l(s.$util.currency(t.price*t.quantity)),1),e("td",null,[e("button",{onClick:f=>r.removeProduct(u)},"x",8,L)])]))),128))])])])])])]),2:a(()=>[e("div",j,[e("div",A,[e("form",{onSubmit:n[7]||(n[7]=b(t=>r.addExpense(o.expense),["prevent"]))},[e("div",G,[e("div",I,[d(e("input",{type:"text",class:"form-control",placeholder:"chiqim",required:"","onUpdate:modelValue":n[5]||(n[5]=t=>o.expense.name=t)},null,512),[[p,o.expense.name]])]),e("div",{class:"col-5",currency:s.$util.currency(o.expense.price)},[d(e("input",{type:"number",min:"0",step:"any",class:"form-control",placeholder:"summa",required:"","onUpdate:modelValue":n[6]||(n[6]=t=>o.expense.price=t)},null,512),[[p,o.expense.price]])],8,K),O])],32)]),e("div",Q,[e("div",R,[e("div",W,[e("h4",null,l(`Jami summa: ${s.$util.currency(r.sum_price_expenses)} so'm`),1)])])]),e("div",X,[e("div",Y,[e("table",null,[Z,e("tbody",null,[(c(!0),i(h,null,v(o.expenses,(t,u)=>(c(),i("tr",{key:u},[e("td",null,l(t.name),1),e("td",null,l(s.$util.currency(t.price)),1),e("td",null,[e("button",{onClick:f=>r.removeExpense(u)},"x",8,ee)])]))),128))])])])])])]),_:1}),q(k,{ref:"productsModal",size:"lg"},{header:a(()=>[te]),body:a(()=>[e("table",null,[se,e("tbody",null,[(c(!0),i(h,null,v(o.products,(t,u)=>(c(),i("tr",{key:u},[e("td",null,l(t.name),1),e("td",null,l(s.$util.currency(t.price)),1),e("td",null,l(s.$util.currency(t.expense_for_product)),1),e("td",null,l(t.quantity),1),e("td",null,l(s.$util.currency((t.price+t.expense_for_product)*t.quantity)),1),e("td",null,[e("button",{onClick:f=>r.removeProduct(u)},"x",8,ne)])]))),128))])])]),_:1},512)],64)}const g=C(w,[["render",oe]]),le={name:"Home",components:{SupplyCounting:g,SupplyCounting:g},data(){return{}},created(){},methods:{}};function re(s,n,x,_,o,r){const m=y("SupplyCounting");return c(),M(m)}const ce=C(le,[["render",re]]);export{ce as default};
